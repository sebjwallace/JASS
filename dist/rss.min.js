!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.RSS=e()}}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){i(this,e),this.Store=t}return o(e,[{key:"isMediaQuery",value:function(e){return e.match(/\@media/)}},{key:"isExtend",value:function(e){return e.match(/^\@extend($|[0-9])/)}},{key:"isVariable",value:function(e){return"string"!=typeof e?!1:e.match(/^\$[a-z,A-Z]+$/)}},{key:"isMixin",value:function(e){return e.match(/^\@mixin\s/)}},{key:"isNesting",value:function(e){return e.match(/^\>[^]/)}},{key:"isGrouping",value:function(e){return e.match(/^\#\s[a-z,A-Z]+$/)}},{key:"generateSelector",value:function(e,t){var n="",r=e.match(/^[^\s]+/)[0],i=e.replace(/^[^\s]+/,"");if(this.Store.styles[r])for(var o in this.Store.styles[r].children)n+=o.replace("&"," ")+" "+i+", ";return(n+" ."+t+" "+e).replace(/\s+\:/,":").replace("BASE","")}},{key:"generateValue",value:function(e){return this.isVariable(e)?this.Store.variables[e]:e}},{key:"parse",value:function(e,t){var n=this,i="",o={},a="",s=[],u="",c=0,l=function h(e){c++;for(var l in e)if(!n.isVariable(l))if(1!=c||n.isMediaQuery(l)||(i=l,o=e[l]),n.isMixin(l)){var f=n.Store.mixins[l.replace("@mixin ","")];if("string"==typeof e[l])h(f(e[l]));else{if(!Array.isArray(e[l]))continue;h(f.apply(n,e[l]))}}else if(n.isGrouping(l))a=l.replace("# ","")+"-",h(e[l]),a="";else if(n.isNesting(l)){var y=r({},i+" "+l.replace("> ",""),e[l]);s.push(y)}else{if(n.isExtend(l))continue;"object"==typeof e[l]?(u+=n.isMediaQuery(l)?l:n.generateSelector(l,t),u+="{",h(e[l]),u+="}"):(u+=a+l,u+=":"+n.generateValue(e[l])+";")}c--};l(e);for(var f=s.length,y=0;f>y;y++)l(s[y]),f=s.length;return u}}]),e}();n.Compiler=a},{}],2:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("./Token"),a=e("./Tag"),s=e("./Compiler"),u=e("./PreCompiler"),c=function(){function e(t,n){r(this,e),this.token=new o.Token,this.tag=new a.Tag(this.token.key),this.Store=t,this.Store.setTag(this.token.key,this.tag),this.styles=null,n&&this.setStyles(n)}return i(e,[{key:"setStyles",value:function(e){this.assign(e);var t=new u.PreCompiler(this.Store),n=new s.Compiler(this.Store);t.parse(this.styles,this.token.key);var r=this.Store.getRenderStack(),i=this.Store.getStyleIndex();for(var o in r){var a=n.parse(i[o],o);this.Store.updateTag(o,a)}this.Store.emptyRenderStack()}},{key:"assign",value:function(e){if(this.styles)for(var t in e)for(var n in e[t])this.styles[t][n]=e[t][n];else this.styles=e}},{key:"set",value:function(e){this.setStyles(e)}},{key:"getStyleTag",value:function(){return this.tag.getTag()}},{key:"getScope",value:function(){return"."+this.token.key}},{key:"className",value:function(){return this.token.key}}]),e}();n.Component=c},{"./Compiler":1,"./PreCompiler":3,"./Tag":7,"./Token":8}],3:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("./Style"),a=function(){function e(t){r(this,e),this.Store=t}return i(e,[{key:"parse",value:function(e,t){var n=this,r=0,i={},a=function s(e){r++;for(var a in e){if(1==r&&(n.Store.styles[a]=new o.Style(t,a,e[a]),i=n.Store.styles[a],n.Store.tokenIndex[t]||(n.Store.tokenIndex[t]={}),n.Store.tokenIndex[t][i.selector]=i,n.Store.styleIndex[t]||(n.Store.styleIndex[t]={}),n.Store.styleIndex[t][i.selector]=i.body),a.match(/^\@extend($|[0-9])/)){var u=n.Store.styles[e[a]];u?(i.parents[e[a]]=e[a],u.children["."+i.token+"&"+i.selector]=!0,n.Store.renderStack[u.token]=u.token):console.log("'"+e[a]+"' cannot be extended because it does not exist!")}else a.match(/^\$[a-z,A-Z]+$/)?n.Store.variables[a]=e[a]:a.match(/^\@mixin\s[^]/)&&"function"==typeof e[a]&&(n.Store.mixins[a.replace(/^\@mixin\s/,"")]=e[a]);"object"==typeof e[a]&&s(e[a])}r--};a(e),this.Store.renderStack[t]=t}}]),e}();n.PreCompiler=a},{"./Style":6}],4:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Component"),o=e("./Store"),a=function l(e){if(r(this,l),this.store=e,!document.getElementById("rss-container")){var t=document.createElement("div");t.id="rss-container",document.body.appendChild(t)}},s=new a(new o.Store);n.RSSSingleton=s;var u=function f(e){return r(this,f),new i.Component(s.store,e)},c=u;n.Component=c},{"./Component":2,"./Store":5}],5:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){var e=this;r(this,o),this.styles={},this.tags={},this.mixins={},this.variables={},this.events={},this.tokenIndex={},this.styleIndex={},this.renderStack={},this.setTag=function(t,n){e.tags[t]=n},this.updateTag=function(t,n){e.tags[t].update(n)},this.getRenderStack=function(){return e.renderStack},this.getStyleIndex=function(){return e.styleIndex},this.emptyRenderStack=function(){e.renderStack={}}};n.Store=i},{}],6:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(e,t,n){r(this,o),this.token=e,this.selector=t,this.body=n,this.parents={},this.children={}};n.Style=i},{}],7:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.tag=this.generateTag("rss-"+t)}return i(e,[{key:"generateTag",value:function(e){var t=document.createElement("style");t.id=e;var n=document.getElementById("rss-container");return n.appendChild(t),t}},{key:"getTag",value:function(){return this.tag}},{key:"update",value:function(e){this.tag.innerHTML=e}}]),e}();n.Tag=o},{}],8:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e),this.key=this.generateKey(4),this.current=!1}return i(e,[{key:"generateKey",value:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",r=0;e>r;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}}]),e}();n.Token=o},{}]},{},[4])(4)});