!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.RSS=e()}}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){i(this,e),this.Store=t}return o(e,[{key:"isMediaQuery",value:function(e){return e.match(/\@media/)}},{key:"isEvent",value:function(e){return e.match(/^\@event\s+[^]+$/)}},{key:"isBind",value:function(e){return e.match(/^\@bind\s+[^]+$/)}},{key:"isExtend",value:function(e){return e.match(/^\@extend($|[0-9])/)}},{key:"isVariableScope",value:function(e){return e.match(/^\$/)}},{key:"isVariable",value:function(e){return"string"!=typeof e?!1:e.match(/^\$[a-z,A-Z]+$/)}},{key:"isMixin",value:function(e){return e.match(/^\@mixin\s/)}},{key:"isNesting",value:function(e){return e.match(/^\>[^]/)}},{key:"isGrouping",value:function(e){return e.match(/^\#\s[a-z,A-Z]+$/)}},{key:"generateSelector",value:function(e,t){var n="",r=e.match(/^[^\s]+/)[0],i=e.replace(/^[^\s]+/,"");if(this.Store.styles[r])for(var o in this.Store.styles[r].children)n+=o.replace("&"," ")+" "+i+", ";return(n+" ."+t+" "+e).replace(/\s+\:/,":").replace("BASE","")}},{key:"generateValue",value:function(e,t,n,r){return this.isVariable(e)?this.Store.variables[e]:e}},{key:"parse",value:function(e,t){var n=this,i="",o={},a="",s=[],u="",c=0,l=function h(e){c++;for(var l in e)if(!(n.isVariableScope(l)||n.isEvent(l)||n.isBind(l)))if(1!=c||n.isMediaQuery(l)||(i=l,o=e[l]),n.isMixin(l)){var f=n.Store.mixins[l.replace("@mixin ","")];if("string"==typeof e[l])h(f(e[l]));else{if(!Array.isArray(e[l]))continue;h(f.apply(n,e[l]))}}else if(n.isGrouping(l))a=l.replace("# ","")+"-",h(e[l]),a="";else if(n.isNesting(l)){var y=r({},i+" "+l.replace("> ",""),e[l]);s.push(y)}else{if(n.isExtend(l))continue;"object"==typeof e[l]?(u+=n.isMediaQuery(l)?l:n.generateSelector(l,t),u+="{",h(e[l]),u+="}"):(u+=a+l,u+=":"+n.generateValue(e[l],t,i,l)+";")}c--};l(e);for(var f=s.length,y=0;f>y;y++)l(s[y]),f=s.length;return u}}]),e}();n.Compiler=a},{}],2:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("./Token"),a=e("./Tag"),s=e("./Compiler"),u=e("./PreCompiler"),c=function(){function e(t,n){r(this,e),this.token=new o.Token,this.tag=new a.Tag(this.token.key),this.Store=t,this.Store.setTag(this.token.key,this.tag),this.styles=null,n&&this.setStyles(n)}return i(e,[{key:"setStyles",value:function(e){this.assign(e);var t=new u.PreCompiler(this.Store,this),n=new s.Compiler(this.Store);t.parse(this.styles,this.token.key);var r=this.Store.getRenderStack(),i=this.Store.getStyleIndex();for(var o in r){var a=n.parse(i[o],o);this.Store.updateTag(o,a)}this.Store.emptyRenderStack()}},{key:"assign",value:function(e){if(this.styles)for(var t in e)for(var n in e[t]){var r=this.styles[t][n],i=e[t][n];Array.isArray(i)?i[0]==r?this.styles[t][n]=i[1]:this.styles[t][n]=i[0]:this.styles[t][n]=i}else this.styles=e}},{key:"set",value:function(e){this.setStyles(e)}},{key:"getStyleTag",value:function(){return this.tag.getTag()}},{key:"getScope",value:function(){return"."+this.token.key}},{key:"className",value:function(){return this.token.key}}]),e}();n.Component=c},{"./Compiler":1,"./PreCompiler":3,"./Tag":7,"./Token":8}],3:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("./Style"),a=e("./RSS"),s=function(){function e(t,n){r(this,e),this.Store=t,this.component=n}return i(e,[{key:"parse",value:function(e,t){var n=this,r=0,i={},s=null,u=function c(e){r++;for(var u in e){if(1==r&&(s=u,n.Store.styles[s]=new o.Style(t,s,e[s]),i=n.Store.styles[s],n.Store.tokenIndex[t]||(n.Store.tokenIndex[t]={}),n.Store.tokenIndex[t][i.selector]=i,n.Store.styleIndex[t]||(n.Store.styleIndex[t]={}),n.Store.styleIndex[t][i.selector]=i.body),u.match(/^\@extend($|[0-9])/)){var l=n.Store.styles[e[u]];l?(i.parents[e[u]]=e[u],l.children["."+i.token+"&"+i.selector]=!0,n.Store.renderStack[l.token]=l.token):console.log("'"+e[u]+"' cannot be extended because it does not exist!")}else if(u.match(/^\$[a-z,A-Z]+$/))n.Store.variables[u]=e[u];else if(u.match(/^\@mixin\s+[^]+$/)&&"function"==typeof e[u])n.Store.mixins[u.replace(/^\@mixin\s/,"")]=e[u];else if(u.match(/^\@event\s+[^]+$/)){var f=u.replace(/^\@event\s+/,""),y={component:n.component,selector:s,styles:e[u]};n.Store.events[f]||(n.Store.events[f]={}),n.Store.events[f][s]||(n.Store.events[f][s]=y)}else if(u.match(/^\@bind\s+[^]+$/)){var h=null;h="BASE"==s?document.getElementByClassName(t)[0]:document.getElementById(s.replace("#",""));var v=u.replace(/^\@bind\s+/,""),p=e[u];"string"==typeof p?!function(){var e=p.replace(/^\@event\s+/,"");h[v]=function(){a.RSS.Event(e)}}():h[v]=p}"object"==typeof e[u]&&c(e[u])}r--};u(e),this.Store.renderStack[t]=t}}]),e}();n.PreCompiler=s},{"./RSS":4,"./Style":6}],4:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Component"),o=e("./Store"),a=function y(e,t){r(this,y);var n=new i.Component(c.Store);return"string"==typeof e?document.getElementById(e).className=n.className():"object"==typeof e&&n.setStyles(e),t&&n.setStyles(t),n},s=function(e){var t=c.Store.events[e];for(var n in t){var r=t[n].component,i=t[n].selector,o={};o[i]=t[n].styles,r.setStyles(o)}},u=function h(e){if(r(this,h),this.Store=e,this.Component=a,this.Event=s,!document.getElementById("rss-container")){var t=document.createElement("div");t.id="rss-container",document.body.appendChild(t)}},c=new u(new o.Store);n.RSS=c;var l=a;n.Component=l;var f=s;n.Event=f},{"./Component":2,"./Store":5}],5:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){var e=this;r(this,o),this.styles={},this.tags={},this.mixins={},this.variables={},this.events={},this.tokenIndex={},this.styleIndex={},this.renderStack={},this.setTag=function(t,n){e.tags[t]=n},this.updateTag=function(t,n){e.tags[t].update(n)},this.getRenderStack=function(){return e.renderStack},this.getStyleIndex=function(){return e.styleIndex},this.emptyRenderStack=function(){e.renderStack={}}};n.Store=i},{}],6:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(e,t,n){r(this,o),this.token=e,this.selector=t,this.body=n,this.parents={},this.children={}};n.Style=i},{}],7:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.tag=this.generateTag("rss-"+t)}return i(e,[{key:"generateTag",value:function(e){var t=document.createElement("style");t.id=e;var n=document.getElementById("rss-container");return n.appendChild(t),t}},{key:"getTag",value:function(){return this.tag}},{key:"update",value:function(e){this.tag.innerHTML=e}}]),e}();n.Tag=o},{}],8:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e),this.key=this.generateKey(4),this.current=!1}return i(e,[{key:"generateKey",value:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",r=0;e>r;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}}]),e}();n.Token=o},{}]},{},[4])(4)});